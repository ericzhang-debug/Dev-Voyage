---
title: '第 2 章：开发环境配置与工具准备'
createTime: 2025/11/13 20:35:47
permalink: /course/7ogel2z9/
---
# 第 2 章：开发环境配置与工具准备

作为全栈开发的基础，配置一个稳定、高效的开发环境至关重要。本章将详细介绍如何搭建 Node.js 和 Python 环境、配置 VS Code、使用 Vibe Coding 提升开发效率，以及掌握 Git 版本控制基础。

## 2.1 Node.js 与 Python 环境安装

全栈开发通常需要同时使用前端和后端技术栈，Node.js 用于前端开发，Python 用于后端开发。为了灵活管理不同版本的开发环境，我们将使用版本管理工具。

### Node.js 与 pnpm 环境配置

Node.js 是构建现代前端应用的基础，使用 nvm (Node Version Manager) 可以方便地管理多个 Node.js 版本。安装 Node.js 后，我们将直接安装 pnpm 作为包管理工具：

```bash
# 使用 nvm 管理 Node.js 版本
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash

# 安装完成后，需要重启终端或执行以下命令使 nvm 生效
source ~/.bashrc  # 或 ~/.zshrc，根据您的 shell 类型

# 安装 Node.js LTS 版本（长期支持版本，稳定性更好）
nvm install --lts
nvm use --lts

# 验证 Node.js 安装是否成功
node --version  # 应该显示类似 v18.x.x 的版本号
npm --version   # 应该显示类似 8.x.x 的版本号

# 安装 pnpm 作为前端包管理工具（性能优于 npm 和 yarn）
npm install -g pnpm

# 验证 pnpm 安装是否成功
pnpm --version  # 应该显示类似 8.x.x 的版本号
```

### Python 环境配置（使用 PDM）

PDM (Python Development Master) 是一个现代化的 Python 包管理器，它不仅可以管理包依赖，还能管理 Python 环境。使用 PDM 可以简化 Python 项目的开发流程：

```bash
# 安装 PDM
curl -sSL https://pdm.fming.dev/install-pdm.py | python3 -

# 或者使用 pip 安装
pip install pdm

# 验证 PDM 安装是否成功
pdm --version

# 使用 PDM 创建新项目并初始化环境
mkdir my-python-project && cd my-python-project
pdm init

# PDM 会交互式询问项目配置，包括选择 Python 版本
# 完成后会自动创建虚拟环境并生成 pyproject.toml 文件

# 安装依赖
pdm add fastapi uvicorn

# 安装开发依赖
pdm add -d pytest black

# 运行项目中的脚本
pdm run python main.py
```

PDM 的优势：
- 同时管理包依赖和虚拟环境
- 支持 PEP 621 标准的项目元数据
- 提供锁文件确保依赖版本一致性
- 支持多 Python 版本
- 更快的安装速度和更小的存储空间占用

## 2.2 VS Code 及必要插件配置

Visual Studio Code (VS Code) 是一款强大的代码编辑器，通过配置合适的插件和设置，可以显著提高全栈开发效率。下面介绍本课程推荐的插件和工作区配置。

::: tip 这就是传说中的微软大战代码编辑器
:::

### 必需插件列表

针对全栈开发，我们推荐安装以下分类插件：

```json
{
  "前端开发": [
    "Vue.volar",              // Vue 3 语言支持（提供语法高亮、智能提示和错误检查）
    "bradlc.vscode-tailwindcss", // Tailwind CSS 智能提示（自动补全类名和语法）
    "Nuxtr.nuxtr-snippets",   // Nuxt 3 代码片段（快速生成 Nuxt 相关代码结构）
    "ms-vscode.vscode-typescript-next" // TypeScript 最新特性支持
  ],
  "后端开发": [
    "ms-python.python",       // Python 语言支持
    "ms-python.vscode-pylance", // Python 智能提示（增强的类型检查和代码分析）
    "tamasfe.even-better-toml", // TOML 配置文件支持（用于项目配置文件）
  ],
  "通用工具": [
    "GitHub.copilot",         // AI 代码补全（基于上下文智能生成代码）
    "eamodio.gitlens",        // Git 增强（可视化 Git 历史和代码作者信息）
    "ms-vscode.vscode-settings-cycler", // 设置切换（快速切换主题或其他设置）
    "usernamehw.errorlens"    // 行内错误提示（直接在代码行显示错误信息）
  ]
}
```

### 安装插件的方法

1. 打开 VS Code
2. 点击左侧边栏的扩展图标（或按 `Ctrl+Shift+X`）
3. 在搜索框中输入插件名称
4. 点击"安装"按钮

### VS Code 工作区配置

为了优化开发体验，建议在项目根目录创建 `.vscode/settings.json` 文件，并添加以下配置：

```json
// .vscode/settings.json
{
  // TypeScript 配置
  "typescript.preferences.includePackageJsonAutoImports": "auto", // 自动从 package.json 导入
  "typescript.suggest.autoImports": true, // 智能提示自动导入
  
  // 保存时自动执行的操作
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true, // 保存时自动修复 ESLint 错误
    "source.organizeImports": true // 保存时自动整理导入语句
  },
  
  // 文件关联
  "files.associations": {
    "*.css": "tailwindcss" // 将所有 CSS 文件视为 Tailwind CSS
  },
  
  // Emmet 配置（快速生成代码片段）
  "emmet.includeLanguages": {
    "vue": "html" // 在 Vue 文件中支持 HTML 的 Emmet 功能
  },
  
  "Nuxt Component": {
    "prefix": "ncomp",
    "body": [
      "<template>",
      "  <div class=\"${1:component-name}\">",
      "    $2",
      "  </div>",
      "</template>",
      "",
      "<script setup lang=\"ts\">",
      "// Props 定义",
      "const props = defineProps<{",
      "  $3",
      "}>();",
      "",
      "// Emits 定义",
      "const emit = defineEmits<{",
      "  ($event: '${4:event-name}'): void",
      "}>();",
      "",
      "// 组件逻辑",
      "$5",
      "</script>",
      "",
      "<style scoped>",
      ".${1:component-name} {\n  $6\n}",
      "</style>"
    ],
    "description": "创建 Nuxt 3 组件"
  }
}
```

#### 4. 代码片段使用技巧

- **快速触发**：在编辑器中输入前缀（如 `npage`），然后按 Tab 键即可生成代码
- **光标导航**：使用 Tab 键在预设的光标位置（`$1`, `$2`, ...）之间跳转
- **自定义扩展**：根据项目需求创建更多专用代码片段
- **共享代码片段**：将代码片段文件添加到项目仓库，与团队成员共享

#### 5. 导入和导出代码片段

- **导出**：找到并复制代码片段 JSON 文件
- **导入**：将代码片段 JSON 文件粘贴到相应目录
  - 全局代码片段位置：`~/.config/Code/User/snippets/`（Linux/Mac）或 `%APPDATA%\Code\User\snippets\`（Windows）
  - 项目代码片段位置：`.vscode/` 目录

## 2.3 Vibe Coding（氛围编程）与 AI 辅助开发

Vibe Coding（氛围编程）是一种结合 AI 工具提升开发效率的现代编程方式，通过合理配置提示词、MCP（模型控制程序）等元素，可以充分发挥 AI 在代码生成、问题解决和知识查询方面的能力。下面将介绍如何配置和使用相关工具。

### 核心概念解析

- **氛围编程**：创建一个高效的开发环境，结合 AI 工具、代码片段和环境配置，使开发过程更加流畅和愉悦
- **提示词工程**：设计高质量的提示词，引导 AI 生成准确、有用的代码和解答
- **MCP (Model Control Program)**：模型控制程序，用于管理和优化 AI 模型的输入输出

### 主要 AI 辅助工具介绍

本课程主要使用以下 AI 辅助开发工具：

1. **豆包 Trae**：字节跳动开发的 AI 编程助手，提供代码生成、解释和优化功能
2. **ChatGPT Copilot**：基于 ChatGPT 的代码辅助工具，可以在 VS Code 中直接使用

### 豆包 Trae 的配置与使用

豆包 Trae 是一款强大的 AI 编程助手，可以通过以下方式配置和使用：

#### 安装与基本配置

1. 在 VS Code 中搜索并安装 "豆包 Trae" 插件
2. 注册并登录豆包账号
3. 在插件设置中配置 API 密钥和偏好参数

#### 使用示例

```javascript
// 示例 1：生成组件代码
// 输入提示词："创建一个响应式的用户卡片组件，包含头像、姓名和简介"
// 豆包 Tare 会生成类似以下的代码
<template>
  <div class="user-card bg-white rounded-lg shadow-md p-4 transition-transform hover:scale-105">
    <img :src="user.avatar" alt="User Avatar" class="w-16 h-16 rounded-full mx-auto mb-3">
    <h3 class="text-lg font-semibold text-center">{{ user.name }}</h3>
    <p class="text-gray-600 text-sm text-center">{{ user.bio }}</p>
  </div>
</template>

<script setup lang="ts">
interface User {
  name: string;
  avatar: string;
  bio: string;
}

const props = defineProps<{
  user: User;
}>();
</script>

<style scoped>
/* 响应式设计 */
@media (max-width: 640px) {
  .user-card {
    margin-bottom: 1rem;
  }
}
</style>
```

### ChatGPT Copilot 的配置与使用

ChatGPT Copilot 是 GitHub 开发的 AI 编程助手，可以在代码编辑器中提供实时代码建议和解释。

#### 安装与配置

1. 在 VS Code 中搜索并安装 "GitHub Copilot" 插件
2. 注册 GitHub 账号并订阅 Copilot 服务
3. 登录并授权插件访问您的代码

#### 使用技巧

- 输入注释描述您想要实现的功能，Copilot 会自动生成相应代码
- 在编写代码时，Copilot 会根据上下文提供智能补全建议
- 使用 `Ctrl+Enter` 可以打开 Copilot 聊天窗口，直接与 AI 交流

### 提示词工程技巧

高质量的提示词是充分发挥 AI 编程助手能力的关键：

1. **明确任务目标**：清晰描述您想要实现的功能或解决的问题
   ```
   示例："实现一个函数，计算斐波那契数列的第 n 项，要求使用动态规划算法"
   ```

2. **提供上下文信息**：包含相关的技术栈、框架版本和项目约束
   ```
   示例："在 Nuxt 3 项目中，使用 TypeScript 创建一个 API 服务，用于获取用户数据"
   ```

3. **指定输出格式**：告诉 AI 您希望得到的代码格式或结构
   ```
   示例："使用 Tailwind CSS v3 编写一个响应式导航栏组件，包含移动端菜单"
   ```

### 代码片段配置与使用详解

代码片段（Code Snippets）是提高编码效率的强大工具，它允许您通过简短的前缀快速生成常用代码模板。以下是详细的配置和使用指南：

#### 1. 创建代码片段文件

在 VS Code 中，您可以通过以下步骤创建自定义代码片段：

1. 打开 VS Code
2. 点击菜单栏的 "文件" > "首选项" > "用户代码片段"
3. 选择 "新建全局代码片段文件" 或 "为当前项目创建代码片段文件"
4. 输入文件名（例如 "nuxt.code-snippets"）并点击 "确定"

#### 2. 代码片段语法详解

代码片段使用 JSON 格式，主要包含以下字段：

- **prefix**：触发代码片段的前缀
- **body**：代码片段的内容，可以使用特殊标记
- **description**：代码片段的描述
- **scope**：（可选）指定适用的文件类型

特殊标记说明：
- `$1, $2, ...`：光标位置，按 Tab 键可以在位置间导航
- `${1:default}`：带默认值的光标位置
- `\t, \n`：制表符和换行符的转义字符

#### 3. 常用 Nuxt 3 代码片段示例

创建自定义代码片段可以显著提高编码速度，以下是一些常用的 Nuxt 3 代码片段：

```javascript
// .vscode/nuxt.code-snippets
{
  "Nuxt Page": {
    "prefix": "npage",  // 输入 npage 后按 Tab 键即可生成代码模板
    "body": [
      "<template>",
      "  <div>",
      "    <h1>$1</h1>",
      "    $2",
      "  </div>",
      "</template>",
      "",
      "<script setup lang=\"ts\">",
      "// $3",
      "$4",
      "</script>",
      "",
      "<style scoped>",
      "/* 样式 */",
      "$5",
      "</style>"
    ],
    "description": "创建 Nuxt 3 页面组件"
  },
  
  "Nuxt API Route": {
    "prefix": "napi",
    "body": [
      "export default defineEventHandler(async (event) => {",
      "  // 获取查询参数或请求体",
      "  const query = getQuery(event);",
      "  const body = await readBody(event);",
      "",
      "  try {\n    // 业务逻辑",
      "    $1",
      "    \n    return {\n      success: true,\n      data: $2\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: error.message\n    };\n  }",
      "});"
    ],
    "description": "创建 Nuxt 3 API 路由"
  }
}
```

## 2.4 Git 版本控制基础

Git 是目前最流行的分布式版本控制系统，掌握 Git 的使用对于团队协作和代码管理至关重要。本节将介绍 Git 的基本工作流、分支策略和提交规范。

### Git 工作流配置

一个良好的 Git 工作流可以帮助团队高效协作，以下是项目初始化和常用操作流程：

```bash
# 1. 初始化 Git 仓库（在项目根目录执行）
git init

# 2. 创建 .gitignore 文件（见下文）

# 3. 添加文件到暂存区
git add .  # 添加所有文件
git add <file_path>  # 添加单个文件

# 4. 提交更改到本地仓库
git commit -m "feat: initial project setup"  # 首次提交

# 5. 查看当前状态
git status

# 6. 查看提交历史
git log
```

### 分支策略

合理的分支策略可以有效管理代码的开发、测试和发布：

```bash
# 创建并切换到开发分支
git checkout -b develop

# 创建并切换到功能分支（从 develop 分支创建）
git checkout develop
git checkout -b feature/auth  # feature/功能名称

# 创建并切换到修复分支（从 develop 或 release 分支创建）
git checkout develop
git checkout -b fix/bug-123  # fix/问题描述或编号

# 合并分支（例如，将功能分支合并到 develop）
git checkout develop
git merge feature/auth

# 删除已完成的功能分支
git branch -d feature/auth
```

### Git 提交规范

遵循一致的提交信息规范可以提高代码维护效率，推荐使用以下格式：

```bash
# 提交信息格式：<type>: <subject>（空一行）<body>（可选）

# 常见的 type 类型：
# feat: 新增功能
# fix: 修复 bug
# docs: 文档更新
# style: 代码格式调整（不影响功能）
# refactor: 代码重构（不新增功能或修复 bug）
# test: 添加或修改测试代码
# chore: 构建过程或辅助工具的变动

# 提交示例：
feat: 添加用户认证功能

添加了登录、注册和 JWT 认证功能，支持邮箱和密码登录方式。

fix: 修复文章列表分页问题

修复了当页码大于总页数时出现的空白页面问题。
docs: 更新项目文档
style: 调整代码格式
refactor: 重构用户服务模块
将用户服务拆分为更小的功能模块，提高代码可维护性。
test: 添加 API 测试用例
为用户认证 API 添加了单元测试和集成测试。
chore: 更新依赖包版本
更新了项目中的所有第三方依赖到最新稳定版。
```
>[!tip]
> 小提示：你可以使用 git emoji 这个神奇的工具，在提交信息中添加表情符号，使提交信息更加生动有趣。
>
> 例如，如果你在 commit message 中输入： 
> 
> ```
> :sparkles: 添加用户认证功能。
> ```
>
> 这将会在 git message 中显示为：
> ```
> ✨ 添加用户认证功能。
> ```
>
> 详情可看 [git-emoji 指北](https://github.com/hooj0/git-emoji-guide)

### .gitignore 配置

.gitignore 文件用于指定 Git 应忽略的文件和目录，避免将临时文件、构建产物和敏感信息提交到仓库中：

```gitignore
# 前端
node_modules/  # npm 依赖
.nuxt/         # Nuxt 构建缓存
.output/       # Nuxt 输出目录
dist/          # 构建产物

# 后端
__pycache__/   # Python 字节码
*.pyc
*.pyo
*.pyd
.env           # 环境变量文件
.venv          # Python 虚拟环境

# 通用
.DS_Store      # MacOS 系统文件
*.log          # 日志文件
.idea/         # IntelliJ IDEA 配置
.vscode/       # VS Code 配置（如果不需要共享）
*.swp          # Vim 临时文件
*.swo          # Vim 临时文件
*.bak          # 备份文件
*.tmp          # 临时文件
```

## 2.5 项目初始化与代码规范

项目初始化是全栈开发的第一步，建立合理的项目结构和代码规范可以为后续开发奠定良好基础。本节将介绍前端和后端项目的初始化流程和推荐的代码规范。

**前端项目初始化（Nuxt 3）**

Nuxt 3 是一个基于 Vue 3 的全栈框架，提供了服务端渲染、路由、状态管理等功能。以下是初始化 Nuxt 3 项目的详细步骤：

```bash
# 1. 创建 Nuxt 3 项目（使用交互式命令）
npx nuxi init personal-website

# 或者使用非交互式命令，直接在当前目录创建
npx nuxi init .

# 2. 进入项目目录
cd personal-website

# 3. 安装依赖
pnpm install  # 推荐使用 pnpm
# 或者使用 npm
# npm install
# 或者使用 yarn
# yarn install

# 4. 启动开发服务器
pnpm dev
# 然后可以在浏览器访问 http://localhost:3000

# 5. 安装代码规范工具
pnpm add -D eslint @nuxt/eslint-config prettier eslint-plugin-prettier eslint-config-prettier

# 6. 创建 ESLint 配置文件
# .eslintrc.js
module.exports = {
  extends: ['@nuxt/eslint-config', 'plugin:prettier/recommended'],
  rules: {
    // 自定义规则
  }
}

# 7. 创建 Prettier 配置文件
# .prettierrc
{
  "semi": false,
  "singleQuote": true,
  "trailingComma": "es5"
}
```

### 推荐的前端项目结构

```bash
personal-website/
├── .nuxt/            # Nuxt 构建缓存
├── .output/          # Nuxt 输出目录
├── assets/           # 静态资源（CSS、图片等）
│   ├── css/
│   └── images/
├── components/       # Vue 组件
│   ├── common/
│   └── layout/
├── composables/      # 组合式函数
├── layouts/          # 布局组件
├── middleware/       # 中间件
├── pages/            # 页面组件（自动生成路由）
│   ├── index.vue
│   └── about.vue
├── plugins/          # 插件
├── public/           # 静态资源（直接映射到根路径）
├── server/           # 服务端代码
│   ├── api/          # API 路由
│   └── middleware/
├── stores/           # Pinia 状态管理
├── .eslintrc.js      # ESLint 配置
├── .prettierrc       # Prettier 配置
├── nuxt.config.ts    # Nuxt 配置
├── package.json      # 项目依赖
└── tsconfig.json     # TypeScript 配置
```

### 后端项目初始化（FastAPI）

FastAPI 是一个现代化、高性能的 Python Web 框架，适用于构建 API。以下是使用 PDM 初始化 FastAPI 项目的基本步骤：

#### 1. 创建项目目录并初始化
```bash
mkdir backend && cd backend

# 使用 PDM 初始化项目（会自动创建虚拟环境）
pdm init
```

#### 2. 安装项目依赖
```bash
# 安装主要依赖
pdm add fastapi uvicorn sqlalchemy pydantic-settings python-dotenv

# 安装开发依赖
pdm add -d pytest black isort flake8 mypy
```

#### 3. 创建项目结构
```bash
mkdir -p app/{api,models,schemas,crud,database}
```

### 推荐的后端项目结构

```bash
backend/
├── app/              # 主应用目录
│   ├── __init__.py   # Python 包标识
│   ├── main.py       # 应用入口
│   ├── api/          # API 路由和端点
│   │   ├── __init__.py
│   │   ├── users.py
│   │   └── items.py
│   ├── models/       # 数据库模型
│   ├── schemas/      # Pydantic 模型（请求和响应）
│   ├── crud/         # 数据库操作
│   ├── database.py   # 数据库连接
│   └── config.py     # 配置管理
├── tests/            # 测试文件
├── .env              # 环境变量
├── .env.example      # 环境变量示例
├── requirements.txt  # 项目依赖
└── pyproject.toml    # 项目配置
```

### 代码规范最佳实践

1. **前端代码规范**
   - 使用 TypeScript 进行类型检查
   - 遵循 Vue 3 的 Composition API 风格
   - 使用 ESLint 和 Prettier 保持代码风格一致
   - 为组件和函数添加适当的文档注释
   - 组件命名采用 PascalCase，Props 命名采用 camelCase

2. **后端代码规范**
   - 遵循 PEP 8 编码规范
   - 使用 Black、isort 和 Flake8 格式化和检查代码
   - 为 API 添加清晰的文档和请求/响应示例
   - 使用 Pydantic 进行数据验证
   - 实现适当的错误处理和日志记录

3. **通用规范**
   - 代码提交前运行格式化和检查工具
   - 编写单元测试和集成测试
   - 使用有意义的变量和函数名称
   - 保持函数的单一职责原则
   - 代码注释应解释"为什么"而不是"是什么"

### 代码规范配置

#### ESLint 配置

```javascript
// .eslintrc.js
module.exports = {
  extends: ['@nuxt/eslint-config'],
  rules: {
    'vue/multi-word-component-names': 'off'
  }
}
```

```python
# .flake8
[flake8]
max-line-length = 88
extend-ignore = E203
exclude = .git,__pycache__,*.egg-info,.pytest_cache
```