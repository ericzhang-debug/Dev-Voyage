---
title: ç¬¬ 7 ç« ï¼šæ–‡ç« è¯¦æƒ…ä¸æ•°æ®åº“
createTime: 2025/12/19 12:00:00
permalink: /fullstack-course/article-detail-database/
---
# ç¬¬ 7 ç« ï¼šæ–‡ç« è¯¦æƒ…ä¸æ•°æ®åº“

::: important æœ¬ç« å­¦ä¹ ç›®æ ‡
- ç†è§£ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“
- å­¦ä¹  SQLite æ•°æ®åº“åŸºç¡€
- æŒæ¡ SQLAlchemy æ¨¡å‹å®šä¹‰
- å®ç°åŠ¨æ€è·¯ç”±å’Œæ–‡ç« è¯¦æƒ…é¡µ
- ğŸ‰ **æˆæœï¼šå®Œæ•´çš„åšå®¢ç³»ç»Ÿï¼Œæ•°æ®æŒä¹…åŒ–ï¼**
:::

æ–‡ç« åˆ—è¡¨æœ‰äº†ï¼Œä½†ç‚¹å‡»æ–‡ç« æ ‡é¢˜å´çœ‹ä¸åˆ°å†…å®¹ï¼Ÿè€Œä¸”é‡å¯ä¸€ä¸‹åç«¯æœåŠ¡ï¼Œæ•°æ®å°±å…¨æ²¡äº†ï¼Ÿè¿™ä¸€ç« æˆ‘ä»¬è¦è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜â€”â€”å®ç°æ–‡ç« è¯¦æƒ…åŠŸèƒ½ï¼Œå¹¶æŠŠæ•°æ®å­˜åˆ°çœŸæ­£çš„æ•°æ®åº“é‡Œï¼

::: tip æœ¬ç« ç»“æŸåä½ ä¼šå¾—åˆ°ä»€ä¹ˆ
ä¸€ä¸ªçœŸæ­£çš„å…¨æ ˆåšå®¢ç³»ç»Ÿâ€”â€”æ–‡ç« æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œé‡å¯æœåŠ¡ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œç‚¹å‡»æ–‡ç« èƒ½çœ‹åˆ°å®Œæ•´å†…å®¹ï¼
:::

---

## 7.1 ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“

### 7.1.1 å½“å‰æ•°æ®å­˜å‚¨çš„é—®é¢˜

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„æ–‡ç« æ•°æ®éƒ½æ˜¯å†™æ­»åœ¨ä»£ç é‡Œçš„ï¼š

```python
# backend/src/backend/__init__.py
articles = [
    {"id": 1, "title": "æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢", ...},
    {"id": 2, "title": "Vue 3 å­¦ä¹ ç¬”è®°", ...},
    # ...
]
```

è¿™ç§æ–¹å¼æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿè¯•è¯•é‡å¯åç«¯æœåŠ¡ï¼Œæˆ–è€…å…³æ‰ç»ˆç«¯å†æ‰“å¼€â€”â€”ä½ ä¼šå‘ç°ï¼š

- **æ•°æ®ä¸¢å¤±**ï¼šæœåŠ¡å™¨é‡å¯åï¼Œæ‰€æœ‰æ–°å¢çš„æ•°æ®éƒ½æ²¡äº†
- **æ— æ³•æŒä¹…åŒ–**ï¼šç”¨æˆ·å‘å¸ƒçš„æ–‡ç« æ— æ³•ä¿å­˜
- **éš¾ä»¥ç®¡ç†**ï¼šæ•°æ®å¤šäº†ä¹‹åä»£ç ä¼šå˜å¾—è‡ƒè‚¿
- **æ€§èƒ½ç“¶é¢ˆ**ï¼šæ•°æ®é‡å¤§æ—¶å†…å­˜å ç”¨è¿‡é«˜

::: warning è¿™ä¸æ˜¯çœŸæ­£çš„åº”ç”¨ï¼
æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å†™äº†ä¸€ç¯‡åšå®¢ï¼Œç»“æœæœåŠ¡å™¨ä¸€é‡å¯å°±æ²¡äº†â€”â€”è¿™ä¹Ÿå¤ªå‘äº†å§ï¼

**è§£å†³æ–¹æ¡ˆï¼šæ•°æ®åº“ï¼**
:::

### 7.1.2 æ•°æ®åº“çš„ä¼˜åŠ¿

ä½¿ç”¨æ•°æ®åº“åï¼Œæˆ‘ä»¬çš„æ•°æ®å°†ï¼š

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| âœ… **æŒä¹…åŒ–å­˜å‚¨** | é‡å¯æœåŠ¡æ•°æ®ä¸ä¸¢å¤± |
| âœ… **é«˜æ•ˆæŸ¥è¯¢** | æ”¯æŒå¤æ‚çš„æŸ¥è¯¢æ“ä½œ |
| âœ… **æ•°æ®å®‰å…¨** | æ”¯æŒäº‹åŠ¡å’Œå¤‡ä»½ |
| âœ… **æ˜“äºæ‰©å±•** | æ”¯æŒæ•°æ®è¿ç§»å’Œä¼˜åŒ– |

## 7.2 SQLite ç®€ä»‹

### 7.2.1 ä¸ºä»€ä¹ˆé€‰æ‹© SQLiteï¼Ÿ

::: info å†å²è¶£äº‹ï¼šSQLite çš„è¯ç”Ÿ
SQLite çš„ä½œè€… D. Richard Hipp åœ¨ 2000 å¹´ä¸ºç¾å›½æµ·å†›å¼€å‘å¯¼å¼¹é©±é€èˆ°è½¯ä»¶æ—¶ï¼Œå› ä¸ºåŒçƒ¦äº† Informix æ•°æ®åº“çš„å¤æ‚é…ç½®ï¼ˆæ¯æ¬¡éƒ¨ç½²éƒ½è¦ä¸“äººå®‰è£…é…ç½®æ•°æ®åº“æœåŠ¡å™¨ï¼‰ï¼Œå†³å®šè‡ªå·±å†™ä¸€ä¸ª"ä¸éœ€è¦é…ç½®"çš„æ•°æ®åº“ã€‚äºæ˜¯ SQLite è¯ç”Ÿäº†ï¼

æœ‰è¶£çš„æ˜¯ï¼ŒSQLite å¦‚ä»Šæ˜¯**ä¸–ç•Œä¸Šéƒ¨ç½²æœ€å¹¿æ³›çš„æ•°æ®åº“**â€”â€”å®ƒå­˜åœ¨äºæ¯ä¸€éƒ¨æ™ºèƒ½æ‰‹æœºã€æ¯ä¸€ä¸ªæµè§ˆå™¨ã€ç”šè‡³é£æœºçš„é£è¡Œç³»ç»Ÿä¸­ã€‚æ®ä¼°è®¡ï¼Œå…¨çƒæœ‰**è¶…è¿‡ä¸€ä¸‡äº¿ä¸ª**SQLite æ•°æ®åº“åœ¨è¿è¡Œï¼ä½ çš„æ‰‹æœºé‡Œå¯èƒ½å°±æœ‰ä¸Šç™¾ä¸ªã€‚
:::

SQLite æ˜¯è½»é‡çº§çš„æ–‡ä»¶å‹æ•°æ®åº“ï¼Œéå¸¸é€‚åˆå­¦ä¹ å’Œå°å‹é¡¹ç›®ï¼š

| ç‰¹ç‚¹ | è¯´æ˜ | ä¼˜åŠ¿ |
|------|------|------|
| ğŸš€ **é›¶é…ç½®** | æ— éœ€å®‰è£…æ•°æ®åº“æœåŠ¡å™¨ | å¼€ç®±å³ç”¨ |
| ğŸ“ **æ–‡ä»¶å­˜å‚¨** | æ•°æ®ä¿å­˜åœ¨å•ä¸ªæ–‡ä»¶ä¸­ | ä¾¿äºå¤‡ä»½å’Œè¿ç§» |
| ğŸ”§ **ç®€å•æ˜“ç”¨** | æ ‡å‡†çš„ SQL è¯­æ³• | å­¦ä¹ æˆæœ¬ä½ |
| ğŸ’ª **åŠŸèƒ½å®Œæ•´** | æ”¯æŒäº‹åŠ¡ã€ç´¢å¼•ç­‰ | æ»¡è¶³é¡¹ç›®éœ€æ±‚ |

::: tip ä»€ä¹ˆæ—¶å€™ç”¨ SQLiteï¼Ÿ
- âœ… å­¦ä¹ æ•°æ®åº“æ¦‚å¿µ
- âœ… ä¸ªäººé¡¹ç›®ã€åŸå‹å¼€å‘
- âœ… æ¡Œé¢åº”ç”¨ã€ç§»åŠ¨åº”ç”¨
- âŒ é«˜å¹¶å‘çš„å¤§å‹ Web åº”ç”¨ï¼ˆè¿™æ—¶å€™ç”¨ PostgreSQL æˆ– MySQLï¼‰

å¯¹äºæˆ‘ä»¬çš„åšå®¢é¡¹ç›®ï¼ŒSQLite æ˜¯æœ€ä½³é€‰æ‹©ï¼
:::

### 7.2.2 æ•°æ®åº“åŸºæœ¬æ¦‚å¿µ

åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œå…ˆäº†è§£å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š

| æ¦‚å¿µ | ç±»æ¯” | è¯´æ˜ |
|------|------|------|
| **æ•°æ®åº“** | Excel æ–‡ä»¶ | å­˜å‚¨æ•°æ®çš„å®¹å™¨ |
| **è¡¨ï¼ˆTableï¼‰** | Excel å·¥ä½œè¡¨ | å­˜å‚¨ç‰¹å®šç±»å‹çš„æ•°æ® |
| **å­—æ®µï¼ˆColumnï¼‰** | è¡¨æ ¼çš„åˆ— | æ•°æ®çš„å±æ€§ï¼ˆå¦‚æ ‡é¢˜ã€ä½œè€…ï¼‰ |
| **è®°å½•ï¼ˆRowï¼‰** | è¡¨æ ¼çš„è¡Œ | ä¸€æ¡å…·ä½“çš„æ•°æ® |
| **ä¸»é”®ï¼ˆPrimary Keyï¼‰** | èº«ä»½è¯å· | å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½• |

ç”¨ Excel æ¥ç†è§£ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    articles è¡¨                          â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id â”‚      title       â”‚    author    â”‚   created_at    â”‚  â† å­—æ®µ
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢    â”‚     åšä¸»      â”‚   2025-01-15   â”‚  â† è®°å½•
â”‚ 2  â”‚ Vue 3 å­¦ä¹ ç¬”è®°    â”‚     åšä¸»      â”‚   2025-01-18   â”‚
â”‚ 3  â”‚ FastAPI å…¥é—¨      â”‚     åšä¸»      â”‚   2025-01-20   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘
ä¸»é”®ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
```

::: note ä¸ºä»€ä¹ˆéœ€è¦ä¸»é”®ï¼Ÿ
å°±åƒæ¯ä¸ªäººéƒ½æœ‰å”¯ä¸€çš„èº«ä»½è¯å·ä¸€æ ·ï¼Œæ•°æ®åº“ä¸­çš„æ¯æ¡è®°å½•ä¹Ÿéœ€è¦ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ã€‚è¿™æ ·æˆ‘ä»¬æ‰èƒ½å‡†ç¡®åœ°æ‰¾åˆ°ã€ä¿®æ”¹æˆ–åˆ é™¤æŸä¸€æ¡ç‰¹å®šçš„æ•°æ®ã€‚
:::

### 7.2.3 æˆ‘ä»¬çš„æ–‡ç« è¡¨è®¾è®¡

æ ¹æ®åšå®¢çš„éœ€æ±‚ï¼Œæ–‡ç« è¡¨åº”è¯¥åŒ…å«è¿™äº›å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `id` | INTEGER | ä¸»é”®ï¼Œå”¯ä¸€æ ‡è¯† |
| `title` | TEXT | æ–‡ç« æ ‡é¢˜ |
| `summary` | TEXT | æ–‡ç« æ‘˜è¦ |
| `content` | TEXT | æ–‡ç« æ­£æ–‡ï¼ˆMarkdownï¼‰ |
| `author` | TEXT | ä½œè€… |
| `created_at` | TEXT | åˆ›å»ºæ—¶é—´ |
| `tags` | TEXT | æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼‰ |

## 7.3 SQLAlchemy å…¥é—¨

### 7.3.1 ä»€ä¹ˆæ˜¯ ORMï¼Ÿ

::: info å†å²è¶£äº‹ï¼šORM çš„ç”±æ¥
æ—©æœŸç¨‹åºå‘˜éœ€è¦ç›´æ¥å†™ SQL è¯­å¥æ¥æ“ä½œæ•°æ®åº“ï¼Œä»£ç é‡Œåˆ°å¤„éƒ½æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œæ—¢å®¹æ˜“å‡ºé”™ï¼Œåˆæœ‰ SQL æ³¨å…¥çš„å®‰å…¨é£é™©ã€‚äºæ˜¯æœ‰äººæƒ³ï¼šèƒ½ä¸èƒ½ç”¨ç¼–ç¨‹è¯­è¨€çš„å¯¹è±¡æ¥è¡¨ç¤ºæ•°æ®åº“çš„è¡¨ï¼Œç”¨å¯¹è±¡çš„å±æ€§æ¥è¡¨ç¤ºå­—æ®µï¼Ÿ

ORMï¼ˆObject-Relational Mappingï¼Œå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰å°±æ˜¯è¿™æ ·è¯ç”Ÿçš„ã€‚å®ƒè®©ä½ å¯ä»¥ç”¨ Python/Java/Ruby ç­‰è¯­è¨€çš„å¯¹è±¡æ¥æ“ä½œæ•°æ®åº“ï¼Œä¸ç”¨å†™ SQLï¼

SQLAlchemy çš„ä½œè€… Mike Bayer åœ¨ 2005 å¹´åˆ›å»ºäº†è¿™ä¸ªé¡¹ç›®ï¼Œå¦‚ä»Šå®ƒå·²æˆä¸º Python ä¸–ç•Œæœ€æµè¡Œçš„ ORMï¼Œè¢« Redditã€Dropboxã€Yelp ç­‰å…¬å¸ä½¿ç”¨ã€‚
:::

**ORM çš„æ ¸å¿ƒæ€æƒ³**ï¼š

```
Python ç±»  â†â†’  æ•°æ®åº“è¡¨
ç±»çš„å±æ€§   â†â†’  è¡¨çš„å­—æ®µ
ç±»çš„å®ä¾‹   â†â†’  è¡¨çš„è®°å½•
```

ä¸¾ä¸ªä¾‹å­ï¼š

```python
# ä¸ç”¨ ORMï¼ˆç›´æ¥å†™ SQLï¼‰â€” å®¹æ˜“å‡ºé”™ï¼Œæœ‰å®‰å…¨é£é™©
cursor.execute("INSERT INTO articles (title, author) VALUES ('Hello', 'Bob')")

# ç”¨ ORMï¼ˆåƒæ“ä½œå¯¹è±¡ä¸€æ ·ï¼‰â€” ç®€æ´å®‰å…¨
article = Article(title="Hello", author="Bob")
db.add(article)
```

æ˜¯ä¸æ˜¯æ¸…çˆ½å¤šäº†ï¼Ÿ

### 7.3.2 ä¸ºä»€ä¹ˆé€‰æ‹© SQLAlchemyï¼Ÿ

SQLAlchemy æ˜¯ Python ä¸­æœ€æµè¡Œçš„ ORM åº“ï¼š

- **å¼ºå¤§çµæ´»**ï¼šæ—¢å¯ä»¥ç”¨ ORMï¼Œä¹Ÿå¯ä»¥å†™åŸç”Ÿ SQL
- **å¤šæ•°æ®åº“æ”¯æŒ**ï¼šSQLiteã€MySQLã€PostgreSQL éšæ„åˆ‡æ¢
- **ç¤¾åŒºæ´»è·ƒ**ï¼šæ–‡æ¡£å®Œå–„ï¼Œé—®é¢˜å®¹æ˜“æ‰¾åˆ°ç­”æ¡ˆ

::: tip å…³äºå¼‚æ­¥çš„è¯´æ˜

** Q1: å¼‚æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ**



** Q2: æ—¢ç„¶å¼‚æ­¥è¿™ä¹ˆå¥½ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜é€‰æ‹©åŒæ­¥æ–¹å¼ï¼Ÿ**

è™½ç„¶ SQLAlchemy æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§æ–¹å¼ã€‚æœ¬ç« æˆ‘ä»¬ä½¿ç”¨**åŒæ­¥æ–¹å¼**ï¼Œå› ä¸ºï¼š

1. å­¦ä¹ æ›²çº¿æ›´å¹³ç¼“
2. å¯¹äºåšå®¢é¡¹ç›®æ€§èƒ½å®Œå…¨è¶³å¤Ÿ
3. ä»£ç æ›´ç®€æ´æ˜“æ‡‚

å¼‚æ­¥çš„è¯¦ç»†è®²è§£ä¼šåœ¨ç¬¬ 13 ç« ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰ä¸­ä»‹ç»ã€‚æ”¾å¿ƒï¼Œå³ä½¿ç”¨åŒæ­¥æ–¹å¼ï¼ŒFastAPI çš„æ€§èƒ½ä¹Ÿæ¯”ä¼ ç»Ÿæ¡†æ¶å¼ºå¾—å¤šï¼
:::

### 7.3.3 å®‰è£… SQLAlchemy

åœ¨ `backend` ç›®å½•ä¸‹æ‰§è¡Œï¼š

```bash
cd backend
pdm add sqlalchemy
```

::: warning ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•
å®‰è£…å‰ç¡®è®¤ä½ åœ¨ `backend` ç›®å½•ä¸‹ï¼Œä¸ç„¶åŒ…ä¼šè£…é”™åœ°æ–¹ï¼
:::

## 7.4 åˆ›å»ºæ•°æ®åº“é…ç½®

### 7.4.1 åˆ›å»º database.py

åœ¨ `backend/src/backend/` ç›®å½•ä¸‹åˆ›å»º `database.py`ï¼š

```python
# backend/src/backend/database.py
from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker

# æ•°æ®åº“æ–‡ä»¶è·¯å¾„ï¼ˆSQLite ä½¿ç”¨æ–‡ä»¶å­˜å‚¨ï¼‰
SQLALCHEMY_DATABASE_URL = "sqlite:///./blog.db"

# åˆ›å»ºæ•°æ®åº“å¼•æ“
engine = create_engine(
    SQLALCHEMY_DATABASE_URL,
    connect_args={"check_same_thread": False}  # SQLite ç‰¹æœ‰é…ç½®
)

# åˆ›å»ºä¼šè¯å·¥å‚
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

# åˆ›å»ºæ¨¡å‹åŸºç±»
Base = declarative_base()


def get_db():
    """
    è·å–æ•°æ®åº“ä¼šè¯çš„ä¾èµ–å‡½æ•°
    ä½¿ç”¨ yield ç¡®ä¿ä¼šè¯åœ¨ä½¿ç”¨åæ­£ç¡®å…³é—­
    """
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()
```

::: note è¿™äº›ä»£ç åœ¨å¹²ä»€ä¹ˆï¼Ÿ
- `create_engine`ï¼šåˆ›å»ºæ•°æ®åº“è¿æ¥å¼•æ“
- `SessionLocal`ï¼šç”¨æ¥åˆ›å»ºæ•°æ®åº“ä¼šè¯ï¼ˆå¯ä»¥ç†è§£ä¸º"æ•°æ®åº“è¿æ¥"ï¼‰
- `Base`ï¼šæ‰€æœ‰æ•°æ®æ¨¡å‹çš„åŸºç±»
- `get_db`ï¼šFastAPI çš„ä¾èµ–æ³¨å…¥å‡½æ•°ï¼Œè‡ªåŠ¨ç®¡ç†æ•°æ®åº“è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸ
:::

### 7.4.2 ç†è§£æ•°æ®åº“ä¼šè¯

::: tip ä»€ä¹ˆæ˜¯æ•°æ®åº“ä¼šè¯ï¼Ÿ
æƒ³è±¡ä½ å»é“¶è¡ŒåŠä¸šåŠ¡ï¼š

1. å–å·æ’é˜Ÿ â†’ åˆ›å»ºä¼šè¯ï¼ˆ`SessionLocal()`ï¼‰
2. åˆ°çª—å£åŠç† â†’ æ‰§è¡Œæ•°æ®åº“æ“ä½œ
3. åŠå®Œç¦»å¼€ â†’ å…³é—­ä¼šè¯ï¼ˆ`db.close()`ï¼‰

`get_db` å‡½æ•°å°±æ˜¯è‡ªåŠ¨å¸®ä½ ç®¡ç†è¿™ä¸ªæµç¨‹çš„ï¼
:::

## 7.5 å®šä¹‰æ•°æ®æ¨¡å‹

### 7.5.1 åˆ›å»º models.py

åœ¨ `backend/src/backend/` ç›®å½•ä¸‹åˆ›å»º `models.py`ï¼š

```python
# backend/src/backend/models.py
from sqlalchemy import Column, Integer, String, Text
from .database import Base


class Article(Base):
    """æ–‡ç« æ¨¡å‹"""
    __tablename__ = "articles"  # è¡¨å

    # å®šä¹‰å­—æ®µ
    id = Column(Integer, primary_key=True, index=True)
    title = Column(String(200), nullable=False)
    summary = Column(Text)
    content = Column(Text)
    author = Column(String(100), default="åšä¸»")
    created_at = Column(String(20))
    tags = Column(String(200))

    def to_dict(self):
        """å°†æ¨¡å‹è½¬æ¢ä¸ºå­—å…¸ï¼ˆæ–¹ä¾¿ API è¿”å›ï¼‰"""
        return {
            "id": self.id,
            "title": self.title,
            "summary": self.summary,
            "content": self.content,
            "author": self.author,
            "created_at": self.created_at,
            "tags": self.tags.split(",") if self.tags else []
        }
```

::: info ä»£ç è§£é‡Š
- `__tablename__`ï¼šæŒ‡å®šæ•°æ®åº“è¡¨çš„åå­—
- `Column`ï¼šå®šä¹‰è¡¨çš„å­—æ®µ
- `primary_key=True`ï¼šè®¾ç½®ä¸ºä¸»é”®
- `nullable=False`ï¼šä¸å…è®¸ä¸ºç©º
- `default="åšä¸»"`ï¼šé»˜è®¤å€¼
- `to_dict()`ï¼šæŠŠæ¨¡å‹å¯¹è±¡è½¬æˆå­—å…¸ï¼Œæ–¹ä¾¿ JSON åºåˆ—åŒ–
:::

### 7.5.2 å­—æ®µç±»å‹å¯¹ç…§

| SQLAlchemy ç±»å‹ | å¯¹åº” SQL ç±»å‹ | é€‚ç”¨åœºæ™¯ |
|----------------|--------------|---------|
| `Integer` | INTEGER | æ•´æ•°ï¼ˆå¦‚ idã€å¹´é¾„ï¼‰ |
| `String(n)` | VARCHAR(n) | çŸ­æ–‡æœ¬ï¼ˆå¦‚æ ‡é¢˜ã€ç”¨æˆ·åï¼‰ |
| `Text` | TEXT | é•¿æ–‡æœ¬ï¼ˆå¦‚æ–‡ç« å†…å®¹ï¼‰ |
| `Float` | FLOAT | æµ®ç‚¹æ•°ï¼ˆå¦‚ä»·æ ¼ï¼‰ |
| `Boolean` | BOOLEAN | å¸ƒå°”å€¼ï¼ˆå¦‚æ˜¯å¦å‘å¸ƒï¼‰ |
| `DateTime` | DATETIME | æ—¥æœŸæ—¶é—´ |

## 7.6 é‡æ„åç«¯ API

### 7.6.1 ä¿®æ”¹ä¸»æ–‡ä»¶

ç°åœ¨æ¥ä¿®æ”¹ `backend/src/backend/__init__.py`ï¼Œè®©å®ƒä½¿ç”¨æ•°æ®åº“ï¼š

```python
# backend/src/backend/__init__.py
from fastapi import FastAPI, Depends, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from sqlalchemy.orm import Session
import random

from .database import engine, get_db, SessionLocal, Base
from .models import Article

# åˆ›å»ºæ•°æ®åº“è¡¨ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
Base.metadata.create_all(bind=engine)

app = FastAPI()

# é…ç½®è·¨åŸŸï¼ˆä¿æŒä¸å˜ï¼‰
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# é—®å€™è¯­åˆ—è¡¨ï¼ˆä¿æŒä¸å˜ï¼‰
greetings = [
    "ä½ å¥½ï¼Œè¿™æ˜¯æ¥è‡ªåç«¯çš„é—®å€™ï¼",
    "æ¬¢è¿æ¥åˆ°å…¨æ ˆå¼€å‘çš„ä¸–ç•Œï¼",
    "ä»Šå¤©ä¹Ÿè¦åŠ æ²¹å†™ä»£ç å“¦ï¼",
    "ä¼‘æ¯ä¸€ä¸‹ï¼Œå–æ¯æ°´å§ï½",
    "ä»£ç å†™ç´¯äº†ï¼Ÿå‡ºå»èµ°èµ°ï¼",
    "ä½ å·²ç»å¾ˆæ£’äº†ï¼Œç»§ç»­ä¿æŒï¼",
]


@app.on_event("startup")
def init_database():
    """åº”ç”¨å¯åŠ¨æ—¶åˆå§‹åŒ–ç¤ºä¾‹æ•°æ®"""
    db = SessionLocal()
    try:
        # å¦‚æœæ•°æ®åº“ä¸ºç©ºï¼Œæ·»åŠ ç¤ºä¾‹æ–‡ç« 
        if db.query(Article).count() == 0:
            sample_articles = [
                Article(
                    title="æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢",
                    summary="è¿™æ˜¯æˆ‘å­¦ä¹ å…¨æ ˆå¼€å‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œè®°å½•äº†ä»é›¶å¼€å§‹æ­å»ºé¡¹ç›®çš„è¿‡ç¨‹ã€‚",
                    content="""# æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢

æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼è¿™æ˜¯æˆ‘å­¦ä¹ å…¨æ ˆå¼€å‘çš„èµ·ç‚¹ã€‚

## ä¸ºä»€ä¹ˆè¦å­¦å…¨æ ˆï¼Ÿ

å› ä¸ºæˆ‘æƒ³æˆä¸ºä¸€ä¸ªèƒ½ç‹¬ç«‹å®Œæˆé¡¹ç›®çš„å¼€å‘è€…ï¼

## å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ

- å‰ç«¯ï¼šNuxt.js + Vue 3
- åç«¯ï¼šFastAPI + Python
- æ•°æ®åº“ï¼šSQLite + SQLAlchemy

æœŸå¾…åç»­çš„å­¦ä¹ ä¹‹æ—…ï¼
""",
                    author="åšä¸»",
                    created_at="2025-01-15",
                    tags="å…¥é—¨,å…¨æ ˆ"
                ),
                Article(
                    title="Vue 3 ç»„åˆå¼ API å­¦ä¹ ç¬”è®°",
                    summary="æ·±å…¥ç†è§£ Vue 3 çš„ Composition APIï¼ŒåŒ…æ‹¬ refã€reactiveã€computed ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚",
                    content="""# Vue 3 ç»„åˆå¼ API å­¦ä¹ ç¬”è®°

Vue 3 å¼•å…¥äº†ç»„åˆå¼ APIï¼Œè®©ä»£ç ç»„ç»‡æ›´åŠ çµæ´»ã€‚

## ref vs reactive

- `ref`ï¼šç”¨äºåŸºæœ¬ç±»å‹
- `reactive`ï¼šç”¨äºå¯¹è±¡å’Œæ•°ç»„

## ä¸ºä»€ä¹ˆç”¨ç»„åˆå¼ APIï¼Ÿ

1. æ›´å¥½çš„ä»£ç ç»„ç»‡
2. æ›´å¥½çš„ç±»å‹æ¨æ–­
3. æ›´å¥½çš„å¤ç”¨æ€§

ä»£ç ç¤ºä¾‹è§æ­£æ–‡...
""",
                    author="åšä¸»",
                    created_at="2025-01-18",
                    tags="Vue,å‰ç«¯"
                ),
                Article(
                    title="FastAPI å¿«é€Ÿå…¥é—¨æŒ‡å—",
                    summary="FastAPI æ˜¯ä¸€ä¸ªç°ä»£ã€å¿«é€Ÿçš„ Python Web æ¡†æ¶ï¼Œæœ¬æ–‡ä»‹ç»å…¶åŸºæœ¬ç”¨æ³•å’Œæœ€ä½³å®è·µã€‚",
                    content="""# FastAPI å¿«é€Ÿå…¥é—¨æŒ‡å—

FastAPI æ˜¯ç›®å‰æœ€çƒ­é—¨çš„ Python Web æ¡†æ¶ä¹‹ä¸€ã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹© FastAPIï¼Ÿ

- ğŸš€ æ€§èƒ½æé«˜
- ğŸ“ è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£
- âœ… ç±»å‹æ£€æŸ¥æ”¯æŒ

## ç¬¬ä¸€ä¸ª API

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
def read_root():
    return {"Hello": "World"}
```

å°±è¿™ä¹ˆç®€å•ï¼
""",
                    author="åšä¸»",
                    created_at="2025-01-20",
                    tags="Python,åç«¯,FastAPI"
                ),
            ]
            db.add_all(sample_articles)
            db.commit()
            print("âœ… ç¤ºä¾‹æ•°æ®åˆå§‹åŒ–å®Œæˆ")
    finally:
        db.close()


@app.get("/")
def root():
    return {"message": "Hello World!"}


@app.get("/api/greeting")
def greeting():
    """éšæœºè¿”å›ä¸€æ¡é—®å€™è¯­"""
    return {"text": random.choice(greetings)}


@app.get("/api/articles")
def get_articles(db: Session = Depends(get_db)):
    """è·å–æ–‡ç« åˆ—è¡¨"""
    articles = db.query(Article).all()
    return {
        "articles": [article.to_dict() for article in articles],
        "total": len(articles)
    }


@app.get("/api/articles/{article_id}")
def get_article(article_id: int, db: Session = Depends(get_db)):
    """è·å–å•ç¯‡æ–‡ç« è¯¦æƒ…"""
    article = db.query(Article).filter(Article.id == article_id).first()
    if not article:
        raise HTTPException(status_code=404, detail="æ–‡ç« ä¸å­˜åœ¨")
    return article.to_dict()
```

::: tip Depends æ˜¯ä»€ä¹ˆï¼Ÿ
`Depends(get_db)` æ˜¯ FastAPI çš„**ä¾èµ–æ³¨å…¥**æœºåˆ¶ã€‚å®ƒä¼šï¼š
1. è‡ªåŠ¨è°ƒç”¨ `get_db()` è·å–æ•°æ®åº“è¿æ¥
2. æŠŠè¿æ¥ä¼ ç»™ `db` å‚æ•°
3. è¯·æ±‚ç»“æŸåè‡ªåŠ¨å…³é—­è¿æ¥

ä½ ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†æ•°æ®åº“è¿æ¥ï¼ŒFastAPI å¸®ä½ æå®šäº†ï¼
:::

### 7.6.2 æµ‹è¯•æ•°æ®åº“åŠŸèƒ½

1. **å¯åŠ¨åç«¯æœåŠ¡**ï¼š

```bash
cd backend
pdm run uvicorn src.backend:app --reload
```

2. **æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶**ï¼š

è¿è¡Œåï¼Œ`backend` ç›®å½•ä¸‹åº”è¯¥å‡ºç° `blog.db` æ–‡ä»¶â€”â€”è¿™å°±æ˜¯ä½ çš„æ•°æ®åº“ï¼

3. **æµ‹è¯• API**ï¼š

- è®¿é—® `http://localhost:8000/api/articles` - åº”è¯¥çœ‹åˆ°æ–‡ç« åˆ—è¡¨
- è®¿é—® `http://localhost:8000/api/articles/1` - åº”è¯¥çœ‹åˆ°ç¬¬ä¸€ç¯‡æ–‡ç« 
- è®¿é—® `http://localhost:8000/docs` - å¯ä»¥åœ¨äº¤äº’å¼æ–‡æ¡£ä¸­æµ‹è¯•

::: warning çœ‹åˆ°æ•°æ®äº†å—ï¼Ÿ
å¦‚æœ API è¿”å›äº†æ–‡ç« æ•°æ®ï¼Œæ­å–œä½ ï¼æ•°æ®åº“é…ç½®æˆåŠŸï¼

ç°åœ¨è¯•è¯•é‡å¯åç«¯æœåŠ¡ï¼Œå†è®¿é—® APIâ€”â€”æ•°æ®è¿˜åœ¨ï¼è¿™å°±æ˜¯æ•°æ®åº“çš„å¨åŠ›ï¼
:::

## 7.7 Nuxt åŠ¨æ€è·¯ç”±

### 7.7.1 ä»€ä¹ˆæ˜¯åŠ¨æ€è·¯ç”±ï¼Ÿ

åœ¨ç¬¬ 6 ç« ï¼Œæˆ‘ä»¬åˆ›å»ºäº† `/blog` é¡µé¢æ¥æ˜¾ç¤ºæ–‡ç« åˆ—è¡¨ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦ `/blog/1`ã€`/blog/2` è¿™æ ·çš„é¡µé¢æ¥æ˜¾ç¤ºæ–‡ç« è¯¦æƒ…ã€‚

éš¾é“è¦ä¸ºæ¯ç¯‡æ–‡ç« åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Ÿå½“ç„¶ä¸ç”¨ï¼

::: info åŠ¨æ€è·¯ç”±çš„æ¦‚å¿µ
åŠ¨æ€è·¯ç”±å°±æ˜¯**ä¸€ä¸ªæ–‡ä»¶ï¼ŒåŒ¹é…å¤šä¸ªè·¯å¾„**ã€‚

- `/blog/1` â†’ æ˜¾ç¤º id=1 çš„æ–‡ç« 
- `/blog/2` â†’ æ˜¾ç¤º id=2 çš„æ–‡ç« 
- `/blog/999` â†’ æ˜¾ç¤º id=999 çš„æ–‡ç« 

å…¨éƒ¨ç”¨åŒä¸€ä¸ªæ–‡ä»¶å¤„ç†ï¼
:::

### 7.7.2 Nuxt åŠ¨æ€è·¯ç”±è¯­æ³•

åœ¨ Nuxt ä¸­ï¼Œç”¨æ–¹æ‹¬å· `[]` è¡¨ç¤ºåŠ¨æ€å‚æ•°ï¼š

```
pages/
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ index.vue      â†’ /blog          â† æ–‡ç« åˆ—è¡¨ï¼ˆç¬¬ 6 ç« ï¼‰
â”‚   â””â”€â”€ [id].vue       â†’ /blog/:id      â† æ–‡ç« è¯¦æƒ…ï¼ˆæœ¬ç« ï¼‰
```

**è·¯ç”±åŒ¹é…è§„åˆ™**ï¼š

| URL | åŒ¹é…çš„æ–‡ä»¶ | è·å–çš„å‚æ•° |
|-----|-----------|-----------|
| `/blog` | `index.vue` | æ—  |
| `/blog/1` | `[id].vue` | `id = "1"` |
| `/blog/hello` | `[id].vue` | `id = "hello"` |

### 7.7.3 è·å–åŠ¨æ€å‚æ•°

åœ¨é¡µé¢ä¸­ï¼Œç”¨ `useRoute()` è·å–å‚æ•°ï¼š

```javascript
const route = useRoute()
const articleId = route.params.id  // è·å– URL ä¸­çš„ id
```

## 7.8 åˆ›å»ºæ–‡ç« è¯¦æƒ…é¡µé¢

### 7.8.1 å®‰è£… Markdown æ¸²æŸ“åº“

æ–‡ç« å†…å®¹æ˜¯ Markdown æ ¼å¼çš„ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒæ¸²æŸ“æˆ HTMLã€‚

åœ¨ `frontend` ç›®å½•ä¸‹å®‰è£… `markdown-it`ï¼š

```bash
cd frontend
pnpm add markdown-it
```

::: info ä¸ºä»€ä¹ˆç”¨ markdown-itï¼Ÿ
`markdown-it` æ˜¯ä¸€ä¸ªå¿«é€Ÿã€å¯æ‰©å±•çš„ Markdown è§£æå™¨ã€‚å®ƒå¯ä»¥æŠŠ Markdown æ–‡æœ¬è½¬æ¢æˆ HTMLï¼Œè¿˜æ”¯æŒå„ç§æ’ä»¶ï¼ˆä»£ç é«˜äº®ã€æ•°å­¦å…¬å¼ç­‰ï¼‰ã€‚
:::

### 7.8.2 åˆ›å»ºè¯¦æƒ…é¡µé¢

åœ¨ `frontend/app/pages/blog/` ç›®å½•ä¸‹åˆ›å»º `[id].vue`ï¼š

```vue
<!-- frontend/app/pages/blog/[id].vue -->
<template>
  <div class="article-page">
    <!-- åŠ è½½çŠ¶æ€ -->
    <div v-if="pending" class="loading-state">
      <div class="loading-spinner"></div>
      <p>æ­£åœ¨åŠ è½½æ–‡ç« ...</p>
    </div>

    <!-- é”™è¯¯çŠ¶æ€ -->
    <div v-else-if="error" class="error-state">
      <p class="error-icon">ğŸ˜µ</p>
      <p class="error-message">{{ error.message || 'åŠ è½½å¤±è´¥' }}</p>
      <button @click="refresh" class="retry-btn">
        ğŸ”„ é‡è¯•
      </button>
    </div>

    <!-- æ–‡ç« ä¸å­˜åœ¨ -->
    <div v-else-if="!article" class="not-found">
      <p class="not-found-icon">ğŸ“­</p>
      <p>æ–‡ç« ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤</p>
      <NuxtLink to="/blog" class="back-link">
        â† è¿”å›æ–‡ç« åˆ—è¡¨
      </NuxtLink>
    </div>

    <!-- æ–‡ç« è¯¦æƒ… -->
    <article v-else class="article-detail">
      <!-- è¿”å›æŒ‰é’® -->
      <NuxtLink to="/blog" class="back-btn">
        â† è¿”å›æ–‡ç« åˆ—è¡¨
      </NuxtLink>

      <!-- æ–‡ç« æ ‡é¢˜ -->
      <h1 class="article-title">{{ article.title }}</h1>

      <!-- æ–‡ç« å…ƒä¿¡æ¯ -->
      <div class="article-meta">
        <span class="meta-item">
          <span class="meta-icon">ğŸ‘¤</span>
          {{ article.author }}
        </span>
        <span class="meta-item">
          <span class="meta-icon">ğŸ“…</span>
          {{ article.created_at }}
        </span>
      </div>

      <!-- æ ‡ç­¾ -->
      <div class="article-tags">
        <span
          v-for="tag in article.tags"
          :key="tag"
          class="tag"
        >
          {{ tag }}
        </span>
      </div>

      <!-- æ–‡ç« å†…å®¹ -->
      <div class="article-content prose" v-html="renderedContent"></div>
    </article>
  </div>
</template>

<script setup>
import MarkdownIt from 'markdown-it'

// è·å–è·¯ç”±å‚æ•°
const route = useRoute()
const articleId = route.params.id

// è·å–æ–‡ç« è¯¦æƒ…
const { data: article, pending, error, refresh } = await useFetch(
  `http://localhost:8000/api/articles/${articleId}`
)

// åˆ›å»º Markdown æ¸²æŸ“å™¨
const md = new MarkdownIt({
  html: true,        // å…è®¸ HTML æ ‡ç­¾
  linkify: true,     // è‡ªåŠ¨è½¬æ¢é“¾æ¥
  typographer: true  // æ™ºèƒ½å¼•å·ç­‰æ’ç‰ˆä¼˜åŒ–
})

// æ¸²æŸ“ Markdown å†…å®¹
const renderedContent = computed(() => {
  if (!article.value?.content) return ''
  return md.render(article.value.content)
})
</script>

<style scoped>
.article-page {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
}

/* åŠ è½½çŠ¶æ€ */
.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  color: #666;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid #e5e7eb;
  border-top-color: #667eea;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1rem;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* é”™è¯¯çŠ¶æ€ */
.error-state {
  text-align: center;
  padding: 3rem;
}

.error-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.error-message {
  color: #e53e3e;
  margin-bottom: 1.5rem;
}

.retry-btn {
  padding: 0.75rem 1.5rem;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 0.5rem;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.2s;
}

.retry-btn:hover {
  background: #5a67d8;
}

/* æ–‡ç« ä¸å­˜åœ¨ */
.not-found {
  text-align: center;
  padding: 3rem;
  color: #666;
}

.not-found-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
}

.back-link {
  display: inline-block;
  margin-top: 1.5rem;
  color: #667eea;
  text-decoration: none;
}

.back-link:hover {
  text-decoration: underline;
}

/* æ–‡ç« è¯¦æƒ… */
.article-detail {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.back-btn {
  display: inline-flex;
  align-items: center;
  color: #667eea;
  text-decoration: none;
  margin-bottom: 2rem;
  font-weight: 500;
  transition: color 0.2s;
}

.back-btn:hover {
  color: #5a67d8;
}

.article-title {
  font-size: 2.5rem;
  font-weight: 800;
  color: #1a202c;
  margin-bottom: 1rem;
  line-height: 1.2;
}

.article-meta {
  display: flex;
  gap: 1.5rem;
  color: #718096;
  margin-bottom: 1rem;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.meta-icon {
  font-size: 1rem;
}

.article-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 2rem;
}

.tag {
  padding: 0.25rem 0.75rem;
  background: #edf2f7;
  color: #4a5568;
  border-radius: 9999px;
  font-size: 0.875rem;
}

/* Markdown å†…å®¹æ ·å¼ */
.article-content {
  color: #2d3748;
  line-height: 1.8;
  font-size: 1.1rem;
}

.article-content :deep(h1) {
  font-size: 2rem;
  font-weight: 700;
  margin-top: 2.5rem;
  margin-bottom: 1rem;
  color: #1a202c;
}

.article-content :deep(h2) {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 2rem;
  margin-bottom: 0.75rem;
  color: #2d3748;
  border-bottom: 1px solid #e2e8f0;
  padding-bottom: 0.5rem;
}

.article-content :deep(h3) {
  font-size: 1.25rem;
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
  color: #2d3748;
}

.article-content :deep(p) {
  margin-bottom: 1.25rem;
}

.article-content :deep(ul),
.article-content :deep(ol) {
  margin-bottom: 1.25rem;
  padding-left: 1.5rem;
}

.article-content :deep(li) {
  margin-bottom: 0.5rem;
}

.article-content :deep(code) {
  background: #f1f5f9;
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-size: 0.9em;
  font-family: 'Fira Code', 'Consolas', monospace;
}

.article-content :deep(pre) {
  background: #1e293b;
  color: #e2e8f0;
  padding: 1rem 1.25rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  margin-bottom: 1.5rem;
}

.article-content :deep(pre code) {
  background: transparent;
  padding: 0;
  font-size: 0.9rem;
  color: inherit;
}

.article-content :deep(blockquote) {
  border-left: 4px solid #667eea;
  padding-left: 1rem;
  margin: 1.5rem 0;
  color: #4a5568;
  font-style: italic;
}

.article-content :deep(a) {
  color: #667eea;
  text-decoration: none;
}

.article-content :deep(a:hover) {
  text-decoration: underline;
}

.article-content :deep(img) {
  max-width: 100%;
  border-radius: 0.5rem;
  margin: 1.5rem 0;
}

.article-content :deep(hr) {
  border: none;
  border-top: 1px solid #e2e8f0;
  margin: 2rem 0;
}
</style>
```

::: tip :deep() é€‰æ‹©å™¨æ˜¯ä»€ä¹ˆï¼Ÿ
å› ä¸ºæˆ‘ä»¬ç”¨äº† `scoped` æ ·å¼ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ ·å¼åªå¯¹å½“å‰ç»„ä»¶ç”Ÿæ•ˆã€‚ä½† `v-html` æ¸²æŸ“çš„å†…å®¹ä¸å±äº Vue ç»„ä»¶ï¼Œæ‰€ä»¥éœ€è¦ç”¨ `:deep()` æ¥ç©¿é€æ ·å¼ä½œç”¨åŸŸã€‚
:::

### 7.8.3 æ›´æ–°æ–‡ç« åˆ—è¡¨çš„é“¾æ¥

å›åˆ°æ–‡ç« åˆ—è¡¨é¡µï¼ˆ`pages/blog/index.vue`ï¼‰ï¼Œç¡®ä¿æ–‡ç« æ ‡é¢˜å¯ä»¥ç‚¹å‡»è·³è½¬ï¼š

```vue
<!-- åœ¨æ–‡ç« å¡ç‰‡ä¸­æ·»åŠ é“¾æ¥ -->
<NuxtLink :to="`/blog/${article.id}`" class="article-link">
  <h2 class="article-title">{{ article.title }}</h2>
</NuxtLink>
```

## 7.9 æµ‹è¯•å®Œæ•´æµç¨‹

### 7.9.1 å¯åŠ¨æœåŠ¡

ç¡®ä¿å‰åç«¯éƒ½åœ¨è¿è¡Œï¼š

```bash
# ç»ˆç«¯ 1 - åç«¯
cd backend
pdm run uvicorn src.backend:app --reload

# ç»ˆç«¯ 2 - å‰ç«¯
cd frontend
pnpm run dev
```

### 7.9.2 æµ‹è¯•æµç¨‹

1. è®¿é—® `http://localhost:3000/blog`
2. çœ‹åˆ°æ–‡ç« åˆ—è¡¨
3. ç‚¹å‡»ä»»æ„æ–‡ç« æ ‡é¢˜
4. è·³è½¬åˆ° `http://localhost:3000/blog/1`ï¼ˆæˆ–å…¶ä»– idï¼‰
5. çœ‹åˆ°å®Œæ•´çš„æ–‡ç« å†…å®¹ï¼ŒMarkdown å·²æ­£ç¡®æ¸²æŸ“
6. ç‚¹å‡»"è¿”å›æ–‡ç« åˆ—è¡¨"å›åˆ°åˆ—è¡¨é¡µ

::: important ğŸ‰ æ­å–œï¼ä½ çš„åšå®¢æœ‰äº†æ•°æ®åº“ï¼
ç°åœ¨ä½ çš„åšå®¢ï¼š
- âœ… æ•°æ®å­˜å‚¨åœ¨ SQLite æ•°æ®åº“ä¸­
- âœ… é‡å¯æœåŠ¡æ•°æ®ä¸ä¼šä¸¢å¤±
- âœ… å¯ä»¥æŸ¥çœ‹æ–‡ç« è¯¦æƒ…
- âœ… Markdown å†…å®¹æ­£ç¡®æ¸²æŸ“

è¿™å°±æ˜¯çœŸæ­£çš„å…¨æ ˆåº”ç”¨ï¼
:::

## 7.10 å°ç»“

::: note æœ¬ç« å›é¡¾
æœ¬ç« æˆ‘ä»¬å®Œæˆäº†ï¼š
- ç†è§£äº†ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“
- å­¦ä¹ äº† SQLite å’Œ SQLAlchemy åŸºç¡€
- åˆ›å»ºäº† Article æ•°æ®æ¨¡å‹
- å®ç°äº†æ•°æ®åº“åˆå§‹åŒ–å’Œç¤ºä¾‹æ•°æ®
- é‡æ„äº†åç«¯ API ä½¿ç”¨æ•°æ®åº“æŸ¥è¯¢
- åˆ›å»ºäº† Nuxt åŠ¨æ€è·¯ç”± `/blog/[id]`
- å®ç°äº†æ–‡ç« è¯¦æƒ…é¡µé¢
- é›†æˆäº† Markdown æ¸²æŸ“
:::

::: tip åŠ¨æ‰‹ç»ƒä¹ 
è¯•ç€æ‰©å±•ä¸€ä¸‹ä½ çš„åšå®¢ï¼š

1. **æ·»åŠ é˜…è¯»é‡ç»Ÿè®¡**ï¼šåœ¨ Article æ¨¡å‹æ·»åŠ  `view_count` å­—æ®µï¼Œæ¯æ¬¡è®¿é—®è¯¦æƒ…é¡µæ—¶ +1
2. **å®ç°æ–‡ç« æœç´¢**ï¼šæ·»åŠ ä¸€ä¸ªæœç´¢ APIï¼Œæ”¯æŒæŒ‰æ ‡é¢˜å…³é”®è¯æœç´¢æ–‡ç« 
3. **æ·»åŠ æ–‡ç« åˆ†ç±»**ï¼šç»™æ–‡ç« æ·»åŠ åˆ†ç±»å­—æ®µï¼Œå®ç°åˆ†ç±»ç­›é€‰åŠŸèƒ½
4. **ä¼˜åŒ– Markdown**ï¼šç»™ markdown-it æ·»åŠ ä»£ç é«˜äº®æ’ä»¶ï¼ˆæç¤ºï¼š`markdown-it-highlightjs`ï¼‰

è¿™äº›ç»ƒä¹ èƒ½å¸®ä½ æ›´å¥½åœ°ç†è§£æ•°æ®åº“å’Œ API å¼€å‘ï¼
:::

::: caution å¸¸è§é—®é¢˜
**Q: æ•°æ®åº“æ–‡ä»¶ blog.db åœ¨å“ªé‡Œï¼Ÿ**

A: åœ¨ `backend` ç›®å½•ä¸‹ã€‚ä½ å¯ä»¥ç”¨ SQLite å¯è§†åŒ–å·¥å…·ï¼ˆå¦‚ DB Browser for SQLiteï¼‰æ‰“å¼€æŸ¥çœ‹é‡Œé¢çš„æ•°æ®ã€‚

**Q: å¦‚ä½•æ¸…ç©ºæ•°æ®åº“é‡æ–°å¼€å§‹ï¼Ÿ**

A: åˆ é™¤ `blog.db` æ–‡ä»¶ï¼Œé‡å¯åç«¯æœåŠ¡å³å¯ã€‚ç¤ºä¾‹æ•°æ®ä¼šé‡æ–°ç”Ÿæˆã€‚

**Q: ä¸ºä»€ä¹ˆ Markdown æ ·å¼æ²¡ç”Ÿæ•ˆï¼Ÿ**

A: æ£€æŸ¥æ˜¯å¦æ­£ç¡®ä½¿ç”¨äº† `:deep()` é€‰æ‹©å™¨ï¼Œä»¥åŠæ˜¯å¦å®‰è£…äº† `markdown-it`ã€‚

**Q: è®¿é—®ä¸å­˜åœ¨çš„æ–‡ç«  id ä¼šæ€æ ·ï¼Ÿ**

A: åç«¯ä¼šè¿”å› 404 é”™è¯¯ï¼Œå‰ç«¯ä¼šæ˜¾ç¤º"æ–‡ç« ä¸å­˜åœ¨"çš„æç¤ºã€‚
:::

::: info ä¸‹ä¸€ç« é¢„å‘Š
æ–‡ç« èƒ½çœ‹äº†ï¼Œä½†è¿˜ä¸èƒ½å†™ï¼ä¸‹ä¸€ç« æˆ‘ä»¬è¦å®ç°**å‘å¸ƒæ–‡ç« **åŠŸèƒ½ï¼š

- ğŸ“ é›†æˆ Markdown ç¼–è¾‘å™¨
- âœ… å­¦ä¹ è¡¨å•éªŒè¯ï¼ˆPydanticï¼‰
- ğŸ“¤ å®ç° POST è¯·æ±‚å‘å¸ƒæ–‡ç« 
- ğŸ”„ å‘å¸ƒæˆåŠŸåè·³è½¬åˆ°æ–‡ç« è¯¦æƒ…

å‡†å¤‡å¥½è®©ä½ çš„åšå®¢æ”¯æŒå‘å¸ƒæ–°æ–‡ç« äº†å—ï¼Ÿâœï¸
:::
